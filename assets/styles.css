:root{
  /* Theme Variables */
  --bg-dark: #050507;
  --bg:#0a0a0f;
  --card: rgba(255, 255, 255, 0.05); /* Lighter base for glass */
  --glass: rgba(255, 255, 255, 0.12); /* Brighter for borders */
  --primary: #5570FF; /* Primary blue */
  --secondary:#FF6AF1; /* Secondary pink */
  --accent:#00F0FF; /* Accent cyan */
  
  /* Typography & Layout */
  --text-light: #e6e8ee; /* Crisper text */
  --text-muted: #A0A0A5;
  --radius:20px;
  --brand-font: 'Poppins', 'Inter', sans-serif;
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.08); /* Smoother, deeper shadow */
}

/* --- Base & Background Overhaul (Deep Radial Gradient) --- */
*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0;
    font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    /* Deep radial gradient background */
    background: radial-gradient(circle at 50% 10%, #1a1b29 0%, var(--bg) 60%);
    color:var(--text-light);
    -webkit-font-smoothing:antialiased;
    overflow-x:hidden;
}
.app-shell{
    max-width:480px;
    margin:0 auto;
    min-height:100vh;
    padding:16px 14px 86px; /* Added padding for floating nav */
}

/* --- Entrance Animation (Fade Up) --- */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.app-shell > header, .app-shell > section {
    animation: fadeInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
}
.topbar { animation-delay: 0s; }
.hero { animation-delay: 0.1s; }
.cards { animation-delay: 0.2s; } 

/* --- Top Bar & Typography --- */
h1,h2,h3,h4{color:var(--text-light)}
a{color:var(--primary);text-decoration:none;transition:color 0.2s ease}
p{color:var(--text-muted);margin-bottom:1em}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:10px 6px;}
.brand{display:flex;align-items:center;gap:10px}
.logo-glow{
    width:40px;height:40px;border-radius:50%;
    background:linear-gradient(45deg, var(--primary), var(--secondary));
    display:grid;place-content:center;
    font-size:1.4em;font-weight:800;color:white;
    box-shadow: 0 0 10px rgba(85, 112, 255, 0.5);
}
.brand-text{font-family:var(--brand-font);font-weight:700;font-size:1.4em;color:var(--text-light)}
.hero{padding:20px 0 30px;text-align:center;animation-delay: 0.1s}
.hero-title{font-family:var(--brand-font);font-size:2.2em;font-weight:800;line-height:1.2;margin:0}
.hero-sub{color:var(--text-muted);font-size:1em;margin:8px 0 20px}
.cta-row{display:flex;gap:12px;justify-content:center}

/* --- Glassmorphism Cards (Fixes Jumbled Homepage) --- */
.card, .gig-card, .data-card, .solution-card, .camera-card, .bundles-card {
    background: var(--card);
    border: 1px solid var(--glass);
    backdrop-filter: blur(12px); 
    -webkit-backdrop-filter: blur(12px);
    border-radius: 18px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: var(--shadow);
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);
}
.cards {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* Default 3 column grid for small cards */
    gap: 12px;
    margin-top: 14px;
}
.card {
    min-height: 100px; /* Ensure cards have some height */
    text-align: left; /* Aligns content to the left */
    /* Remove flex properties inherited from old style to fix jumbled icons/text */
    display: block; 
}
.card:hover, .gig-card:hover, .data-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(85,112,255,0.2), 0 0 0 1px var(--glass);
}
.card-icon{font-size:1.6em; margin-bottom: 4px;} /* Better sizing for icons */
.card-title{font-weight:800;font-size:1em;color:var(--text-light); line-height: 1.2;}
.card-sub{font-size:0.8em;color:var(--text-muted); margin-top: 2px;}

/* --- Inputs & Buttons (Micro-interactions & Layout Fix) --- */
input, textarea, .text-input-large{
    width:100%;padding:12px;margin-top:6px;margin-bottom:12px;
    background:rgba(0,0,0,0.2);
    border:1px solid var(--glass);
    border-radius:12px;
    color:var(--text-light);
    font-size:1em;
    transition: all 0.3s ease;
    resize: vertical;
}
input:focus, textarea:focus, .text-input-large:focus{
    outline:none;
    border-color:var(--primary);
    box-shadow: 0 0 0 4px rgba(85, 112, 255, 0.3);
}
.cta, .pill-btn, .ghost-btn, .pill-btn.alt, button{ /* Target all buttons now */
    padding:12px 18px;
    border-radius:10px;
    font-weight:600;
    text-align:center;
    cursor:pointer;
    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); /* Spring transition */
    border: none; /* Reset borders on all buttons */
    text-decoration: none; /* For anchor tags */
}
.cta{background:linear-gradient(90deg, var(--primary), var(--secondary));color:white;}
.cta:hover{
    box-shadow: 0 0 15px rgba(85, 112, 255, 0.6);
}
.cta:active{transform:scale(0.95)}

/* Ghost button styling for 'Find Bundles' fix on homepage */
.ghost-btn, a.ghost-btn {
    background: transparent;
    color: var(--text-light);
    border: 1px solid var(--glass); 
    padding: 12px 18px; 
}
.ghost-btn:hover, a.ghost-btn:hover {
    background: var(--glass);
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.1);
}
.ghost-btn:active, a.ghost-btn:active {
    transform: scale(0.95);
}

.pill-btn{background:var(--primary);color:white;}
.pill-btn.alt{background:var(--card);color:var(--primary);border:1px solid var(--primary)}
.pill-btn.alt:hover{background:var(--glass)}

/* Fix for buttons in rows (like on the homepage and solver page) */
.row, .cta-row {
    display: flex;
    gap: 12px; 
    flex-wrap: wrap;
    align-items: center; 
}
.row > *, .cta-row > * {
    flex-grow: 1; 
    min-width: 100px;
}


/* --- Floating Bottom Navigation (Dock) --- */
.bottom-nav {
    position: fixed;
    bottom: 10px; 
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 32px); 
    max-width: 460px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 12px 10px;
    background: rgba(0, 0, 0, 0.6); 
    border: 1px solid var(--glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 20px;
    box-shadow: 0 4px 30px rgba(85,112,255,0.25);
    z-index: 1000;
}
.bottom-nav a {
    color: var(--text-muted);
    font-weight: 600;
    padding: 6px 10px;
    border-radius: 12px;
    transition: all 0.3s ease;
}
.bottom-nav a:hover {
    color: var(--text-light);
    background: var(--glass);
}
.bottom-nav a.active {
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    color: white;
    box-shadow: 0 2px 10px rgba(85,112,255,0.4);
}

/* --- Loaders and Modals --- */
.spinner {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    color: var(--primary);
    padding: 10px 0;
}
.spinner::before {
    content: '';
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255, 255, 255, 0.2);
    border-top-color: var(--primary);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-right: 5px;
}
@keyframes spin {
    to { transform: rotate(360deg); }
}
.modal{position:fixed;inset:0;background:rgba(0,0,0,0.75);display:none;align-items:center;justify-content:center;z-index:2000;opacity:0;transition:opacity 0.3s ease}
.modal.show{display:flex;opacity:1}
.modal-inner{
    width:92%;
    padding:20px; 
    animation: scaleIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; /* Spring effect */
    transform: scale(0.9);
    background: var(--card);
    border: 1px solid var(--glass);
    backdrop-filter: blur(12px); 
    -webkit-backdrop-filter: blur(12px);
    border-radius: 18px;
    box-shadow: var(--shadow);
}
@keyframes scaleIn{
    from{transform:scale(0.8);opacity:0}
    to{transform:scale(1);opacity:1}
}
/* Ensure smaller screen sizes are handled */
@media (max-width: 420px) {
    .cards { grid-template-columns: repeat(2, 1fr); }
    .card-title { font-size: 0.9em; }
    .card-sub { font-size: 0.7em; }
}
